module typing.extensions.sumcomprehension.Syntax2

import org.sugarj.languages.Fomega

context-free syntax
  "dosum" "{" FomegaExpr "}"                           -> FomegaExpr {cons("DoSumAtomic")}
  "dosum" "{" { DoSumBinding ";" }+ ";" FomegaExpr "}" -> FomegaExpr {cons("DoSumSeq")}
  
   FomegaID "<-" FomegaExpr      -> DoSumBinding {cons("DoSumGen")}
   "let" FomegaID "=" FomegaExpr -> DoSumBinding {cons("DoSumLet")}

context-free syntax
  "~" StrategoVar -> DoSumBinding {cons("Metavar")}
  // TODO: how to handle lists correctly?

lexical syntax
  "dosum" -> Keyword
  "let"   -> Keyword

lexical restrictions
  "dosum" "let" -/- [A-Za-z0-9]
  