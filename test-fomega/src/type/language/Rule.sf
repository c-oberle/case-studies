MODULE type.language.Rule

context-free syntax
  TypeRule -> SugarDefElem

  RulePremises RuleSepName RuleConsequence
    -> TypeRule {cons("TypeRule"),
                 layout(1.first.col == 2.first.col &&
                        2.first.col == 3.first.col)}

  PremiseList -> RulePremises {cons("PremiseList")}
              -> RulePremises {cons("NoPremises")}
  OffTypeRelation -> RuleConsequence {cons("Consequence")}

  OffTypeRelation -> PremiseList
  OffTypeRelation PremiseList -> PremiseList {cons("PremiseCons"), layout(1.first.col == 2.first.col)}

  TypeRelation -> OffTypeRelation {layout(1.first.col < 1.left.col)}

lexical syntax
  "===" "="* -> RuleSep
lexical restrictions
  RuleSep -/- [\=]
context-free syntax
  RuleSep StrategoVar? -> RuleSepName {cons("RuleName"), layout(1.first.line == 2.last.line)}
