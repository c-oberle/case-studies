package banking.test;

import statemachine.Simulator(banking.atm.ATM);
import EventIO = statemachine.EventIO(banking.atm.ATM);

public class ATMTest { 
  public static void main(String[] args) {
    ATM machine = new ATM(); 
    machine.step(EventIO.parseEvent(machine, "InsertCard"));
    machine.step(EventIO.parseEvent(machine, "PinOK"));
    machine.step(EventIO.parseEvent(machine, "MoneyTaken"));
    machine.step(EventIO.parseEvent(machine, "CardTaken"));
    
    if (machine.currentState() == machine.state_Init())
      System.out.println("success");
    else
      System.out.println("failure");
  }
}
